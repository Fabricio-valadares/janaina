<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>English Quiz</title>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background: #f7f7f8;
      color: #333;
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
      margin: 0;
      padding: 20px;
    }

    .quiz-container {
      background: white;
      padding: 30px;
      border-radius: 20px;
      max-width: 600px;
      width: 100%;
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
    }

    h1 {
      text-align: center;
      margin-bottom: 20px;
    }

    .question {
      font-weight: bold;
      margin: 15px 0 8px;
    }

    .options label {
      display: block;
      background: #f1f1f3;
      padding: 10px 15px;
      margin: 6px 0;
      border-radius: 10px;
      cursor: pointer;
      transition: 0.3s;
      border: 2px solid transparent;
    }

    .options input {
      display: none;
    }

    /* Quando o radio está marcado, estiliza o label */
    /* .options input:checked + span {
      background: #e0e7ff;
      border-color: #4f46e5;
      font-weight: bold;
    } */

    .options label:hover {
      background: #e4e4e4;
    }

    .correct {
      background: #d1f7c4 !important;
      border-color: #22c55e !important;
    }

    .incorrect {
      background: #ffc4c4 !important;
      border-color: #ef4444 !important;
    }

    button {
      margin-top: 20px;
      width: 100%;
      padding: 12px;
      font-size: 16px;
      border: none;
      border-radius: 12px;
      background: #4f46e5;
      color: white;
      cursor: pointer;
      transition: background 0.3s;
    }

    button:hover {
      background: #4338ca;
    }

    .result {
      margin-top: 20px;
      font-weight: bold;
      text-align: center;
    }
  </style>
</head>
<body>
  <div class="quiz-container">
    <h1>English Quiz</h1>
    <form id="quizForm"></form>
    <button type="button" onclick="submitQuiz()">Enviar</button>
    <button type="button" onclick="resetQuiz()">Resetar perguntas</button>
    <div class="result" id="result"></div>
  </div>

  <script>
    const questions = [
      { question: "What is the synonym of 'Happy'?", options: ["Sad", "Joyful", "Angry", "Tired"], answer: "Joyful" },
      { question: "What is the past tense of 'Go'?", options: ["Goed", "Went", "Gone", "Go"], answer: "Went" },
      { question: "Which is a fruit?", options: ["Carrot", "Potato", "Apple", "Onion"], answer: "Apple" },
      { question: "What is the opposite of 'Cold'?", options: ["Hot", "Cool", "Warm", "Freeze"], answer: "Hot" },
      { question: "Which is an animal?", options: ["Chair", "Dog", "Table", "Car"], answer: "Dog" },
      { question: "What color is the sky on a clear day?", options: ["Blue", "Green", "Red", "Yellow"], answer: "Blue" },
      { question: "What is 2 + 2?", options: ["3", "5", "4", "6"], answer: "4" },
      { question: "Which is a verb?", options: ["Run", "Car", "Book", "House"], answer: "Run" },
      { question: "Which is a day of the week?", options: ["January", "Monday", "Spring", "Summer"], answer: "Monday" },
      { question: "Which is a drink?", options: ["Water", "Chair", "Pen", "Paper"], answer: "Water" },
      { question: "Which one is a mammal?", options: ["Shark", "Whale", "Frog", "Crocodile"], answer: "Whale" },
        { question: "What is the plural of 'Mouse'?", options: ["Mouses", "Mice", "Mousees", "Meese"], answer: "Mice" },
        { question: "Which word is an adjective?", options: ["Quickly", "Run", "Beautiful", "Table"], answer: "Beautiful" },
        { question: "What is the opposite of 'Light'?", options: ["Dark", "Bright", "Heavy", "Soft"], answer: "Dark" },
        { question: "Which is a season of the year?", options: ["Winter", "Monday", "Yesterday", "Blue"], answer: "Winter" }
    ];

    const quizForm = document.getElementById("quizForm");

    // Criar perguntas dinamicamente
    questions.forEach((q, index) => {
      const questionDiv = document.createElement("div");
      questionDiv.classList.add("question-block");

      const questionTitle = document.createElement("div");
      questionTitle.classList.add("question");
      questionTitle.textContent = `${index + 1}. ${q.question}`;
      questionDiv.appendChild(questionTitle);

      const optionsDiv = document.createElement("div");
      optionsDiv.classList.add("options");

      q.options.forEach(option => {
        const label = document.createElement("label");

        label.classList.add("label-item-select");

        label.innerHTML = `
          <input type="radio" name="q${index}" value="${option}">
          <span>${option}</span>
        `;
        optionsDiv.appendChild(label);
      });

      questionDiv.appendChild(optionsDiv);
      quizForm.appendChild(questionDiv);
    });

    function resetQuiz() {
        window.location.reload()
    }

function submitQuiz() {
    const resultDiv = document.getElementById("result");
    const questionBlocks = document.querySelectorAll(".question-block");

    // 1️⃣ Verifica se todas as perguntas foram respondidas
    for (let i = 0; i < questionBlocks.length; i++) {
        const selected = questionBlocks[i].querySelector("input[type=radio]:checked");
        if (!selected) {
            resultDiv.textContent = `Por favor, responda a todas as perguntas antes de enviar!`;
            resultDiv.style.color = "red";
            return; // interrompe a função
        }
    }

    // 2️⃣ Limpa estilos antigos
    const allLabels = document.querySelectorAll(".label-item-select");
    allLabels.forEach(label => {
        label.style.backgroundColor = "";
        label.style.borderColor = "";
        label.style.fontWeight = "";
        label.classList.remove("correct", "incorrect");
    });

    // 3️⃣ Avalia respostas
    let score = 0;
    questionBlocks.forEach((block, index) => {
        const selected = block.querySelector("input[type=radio]:checked");
        const labels = block.querySelectorAll(".label-item-select");

        labels.forEach(label => {
            const input = label.querySelector("input");

            if (input.value === questions[index].answer) {
                label.classList.add("correct");
            }
            if (selected && input.value === selected.value && selected.value !== questions[index].answer) {
                label.classList.add("incorrect");
            }
        });

        if (selected && selected.value === questions[index].answer) {
            score++;
        }
    });

    // 4️⃣ Mostra resultado
    resultDiv.textContent = `Você acertou ${score} de ${questions.length} perguntas.`;
    resultDiv.style.color = "black";

    // 5️⃣ Bloqueia o quiz
    const allInputs = document.querySelectorAll('input[type="radio"]');
    allInputs.forEach(input => input.disabled = true);
}

    const labels = document.querySelectorAll(".label-item-select");

    labels.forEach(label => {
        label.addEventListener("click", () => {
            label.style.backgroundColor = "#e0e7ff"
            label.style.borderColor = "#4f46e5"
            label.style.fontWeight = "bold"
        });
    });

    const questionBlocks = document.querySelectorAll(".question-block");

    questionBlocks.forEach(block => {
        const labels = block.querySelectorAll(".label-item-select");
        labels.forEach(label => {
            label.addEventListener("click", () => {
                // Primeiro, remove a seleção de todas as labels deste bloco
                labels.forEach(l => {
                    l.style.backgroundColor = "";
                    l.style.borderColor = "";
                    l.style.fontWeight = "";
                });

                // Depois, aplica o estilo apenas na label clicada
                label.style.backgroundColor = "#e0e7ff";
                label.style.borderColor = "#4f46e5";
                label.style.fontWeight = "bold";
            });
        });
    });
  </script>
</body>
</html>
